<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        #nav, #dock, #card {
            display: none;
        }
    </style>
</head>

<body>

    <div id="nav" class="navbar bg-base-100 outline-2 sticky top-0 z-10 flex justify-center p-4">
        <div></div>
        <div class="avatar pr-4">
            <div class="w-16 rounded-full">
                <img id="profilePic" alt="profilePic" />
            </div>
        </div>
        <div class="grid grid-cols-1">
            <div id="doctorName" class="text-lg font-semibold">name</div>
            <div id="doctorDep" class="text-base font-normal">department</div>
        </div>
    </div>

    <div id="content" class="bg-base-300 min-h-screen flex flex-col items-center justify-center">
        <div id="loading" class="loading loading-dots loading-xl"></div>
        <div id="card" class="card bg-base-100 card-lg w-xs md:w-lg lg:w-2xl xl:w-4xl border-black border">
                <div class="card-body flex flex-col items-center">
                    <h2 class="card-title text-center">UPLOAD</h2>
                    <form>
                        <input type="file" class="file-input file-input-ghost file-input-lg" />
                    </form>
                </div>
        </div>
    </div>

    <div id="dock" class="dock bg-base-100 outline-2">
        <button id="uploadBtn" class="text-md text-base-content hover:text-accent-content">UPLOAD</button>
        <button id="statusBtn" class="text-md text-base-content hover:text-accent-content">STATUS</button>
        <button id="incomeBtn" class="text-md text-base-content hover:text-accent-content">INCOME</button>
    </div>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        nav = document.getElementById("nav")
        dock = document.getElementById("dock")

        content = document.getElementById("content")
        loading = document.getElementById("loading")
        card = document.getElementById("card")
       
        uploadBtn = document.getElementById("uploadBtn")
        statusBtn = document.getElementById("statusBtn")
        incomeBtn = document.getElementById("incomeBtn")
        profilePic = document.getElementById("profilePic")
        doctorName = document.getElementById("doctorName")
        doctorDep = document.getElementById("doctorDep")

        uploadBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            statusBtn.classList.remove("dock-active")
            incomeBtn.classList.remove("dock-active")
        })
        statusBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            uploadBtn.classList.remove("dock-active")
            incomeBtn.classList.remove("dock-active")
        })
        incomeBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            uploadBtn.classList.remove("dock-active")
            statusBtn.classList.remove("dock-active")
        })

        const logInLIFF = async () => {
            await liff.init({ liffId: "2007211330-ykKaQeJg" })
            if (liff.isLoggedIn()) {
                loading.style.display = "none"
                nav.style.display = "flex"
                dock.style.display = "flex"
                content.classList.remove("justify-center")
                content.classList.add("pt-8", "md:pt-12", "lg:pt-16", "xl:pt-20")
                card.style.display = "flex"
                const profile = await liff.getProfile()
                profilePic.src = profile.pictureUrl

            } else {
                liff.login()
            }
        }

        logInLIFF();
    </script>

</body>

</html>