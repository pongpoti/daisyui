<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        #nav,

        #first,
        #iframe {
            display: none;
        }
    </style>
</head>

<body>
    <div id="nav" class="navbar bg-base-100 outline-2 sticky top-0 z-10 flex justify-center p-4">
        <div></div>
        <div class="avatar pr-4">
            <div class="w-16 rounded-full">
                <img id="profilePic" alt="profilePic" />
            </div>
        </div>
        <div class="grid grid-cols-1">
            <div id="doctorName" class="text-lg font-semibold">name</div>
            <div id="doctorDep" class="text-base font-normal">department</div>
        </div>
    </div>

    <div id="content" class="bg-base-300 min-h-screen flex flex-col items-center justify-center">
        <div id="loading" class="loading loading-dots loading-xl"></div>
        <iframe id="iframe"
            data-tally-src="https://tally.so/embed/31LarW?hideTitle=1&transparentBackground=1&dynamicHeight=1"
            loading="lazy" width="100%" height="351" frameborder="0" marginheight="0" marginwidth="0"
            title="P4P - Upload"></iframe>

        <div id="first" class="card bg-base-100 card-lg w-xs md:w-lg lg:w-2xl xl:w-4xl border-black border">
            <div class="card-body flex flex-col items-center">
                <!--
                    <fieldset class="fieldset">
                        <legend class="fieldset-legend">Upload file</legend>
                        <select id="first_select" title="select" class="select">
                            <option disabled selected>Choose month</option>
                            <option>month 1</option>
                            <option>month 2</option>
                            <option>month 3</option>
                        </select>
                        <input id="first_input" placeholder="input" type="file" class="file-input file-input-ghost file-input-md lg:file-input-lg" />
                        <button id="first_submit" class="btn">submit</button>
                    </fieldset>
                -->
            </div>
        </div>
    </div>

    <div id="dock" class="dock bg-base-100 outline-2">
        <button id="statusBtn">
            <div class="flex">
                <svg class="size-[1.6em] mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <path
                        d="M256 144C256 117.5 277.5 96 304 96L336 96C362.5 96 384 117.5 384 144L384 496C384 522.5 362.5 544 336 544L304 544C277.5 544 256 522.5 256 496L256 144zM64 336C64 309.5 85.5 288 112 288L144 288C170.5 288 192 309.5 192 336L192 496C192 522.5 170.5 544 144 544L112 544C85.5 544 64 522.5 64 496L64 336zM496 160L528 160C554.5 160 576 181.5 576 208L576 496C576 522.5 554.5 544 528 544L496 544C469.5 544 448 522.5 448 496L448 208C448 181.5 469.5 160 496 160z" />
                </svg>
                <div>STATUS</div>
            </div>
        </button>
        <button id="uploadBtn">
            <div class="flex">
                <svg class="size-[1.6em] mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <path
                        d="M176 544C96.5 544 32 479.5 32 400C32 336.6 73 282.8 129.9 263.5C128.6 255.8 128 248 128 240C128 160.5 192.5 96 272 96C327.4 96 375.5 127.3 399.6 173.1C413.8 164.8 430.4 160 448 160C501 160 544 203 544 256C544 271.7 540.2 286.6 533.5 299.7C577.5 320 608 364.4 608 416C608 486.7 550.7 544 480 544L176 544zM337 255C327.6 245.6 312.4 245.6 303.1 255L231.1 327C221.7 336.4 221.7 351.6 231.1 360.9C240.5 370.2 255.7 370.3 265 360.9L296 329.9L296 432C296 445.3 306.7 456 320 456C333.3 456 344 445.3 344 432L344 329.9L375 360.9C384.4 370.3 399.6 370.3 408.9 360.9C418.2 351.5 418.3 336.3 408.9 327L336.9 255z" />
                </svg>
                <div>UPLOAD</div>
            </div>
        </button>
        <button id="signBtn">
            <div class="flex">
                <svg class="size-[1.6em] mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <path
                        d="M64.1 128C64.1 92.7 92.8 64 128.1 64L277.6 64C294.6 64 310.9 70.7 322.9 82.7L429.3 189.3C441.3 201.3 448 217.6 448 234.6L448 332.1L316 464.1L273.9 464.1L257.8 410.5C253.1 394.8 238.7 384.1 222.3 384.1C211 384.1 200.4 389.2 193.4 398L133.3 473C125 483.3 126.7 498.5 137 506.7C147.3 514.9 162.5 513.3 170.7 502.9L217.8 444.1L233 494.8C236 505 245.4 511.9 256 511.9L287.5 511.9C286.6 515 285.8 518.2 285.2 521.4L274.3 575.9L128.1 575.9C92.8 575.9 64.1 547.2 64.1 511.9L64.1 127.9zM272.1 122.5L272.1 216C272.1 229.3 282.8 240 296.1 240L389.6 240L272.1 122.5zM332.3 530.9C334.8 518.5 340.9 507.1 349.8 498.2L468.7 379.3L548.7 459.3L429.8 578.2C420.9 587.1 409.5 593.2 397.1 595.7L337.5 607.6C336.6 607.8 335.6 607.9 334.6 607.9C326.6 607.9 320 601.4 320 593.3C320 592.3 320.1 591.4 320.3 590.4L332.2 530.8zM600.1 407.9L571.3 436.7L491.3 356.7L520.1 327.9C542.2 305.8 578 305.8 600.1 327.9C622.2 350 622.2 385.8 600.1 407.9z" />
                </svg>
                <div>SIGN</div>
            </div>
        </button>
    </div>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>var d = document, w = "https://tally.so/widgets/embed.js", v = function () { "undefined" != typeof Tally ? Tally.loadEmbeds() : d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function (e) { e.src = e.dataset.tallySrc })) }; if ("undefined" != typeof Tally) v(); else if (d.querySelector('script[src="' + w + '"]') == null) { var s = d.createElement("script"); s.src = w, s.onload = v, s.onerror = v, d.body.appendChild(s); }</script>
    <script>
        nav = document.getElementById("nav")
        dock = document.getElementById("dock")

        content = document.getElementById("content")
        loading = document.getElementById("loading")
        first = document.getElementById("first")
        iframe = document.getElementById("iframe")

        statusBtn = document.getElementById("statusBtn")
        uploadBtn = document.getElementById("uploadBtn")
        signBtn = document.getElementById("signBtn")
        profilePic = document.getElementById("profilePic")
        doctorName = document.getElementById("doctorName")
        doctorDep = document.getElementById("doctorDep")

        statusBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            uploadBtn.classList.remove("dock-active")
            signBtn.classList.remove("dock-active")
            iframe.style.display = "none"
            e.preventDefault()
        })

        uploadBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            statusBtn.classList.remove("dock-active")
            signBtn.classList.remove("dock-active")
            iframe.style.display = "block"
            e.preventDefault()
        })

        signBtn.addEventListener("click", function (e) {
            this.classList.add("dock-active")
            statusBtn.classList.remove("dock-active")
            uploadBtn.classList.remove("dock-active")
            iframe.style.display = "none"
            e.preventDefault()
        })

        const logInLIFF = async () => {
            await liff.init({ liffId: "2007211330-ykKaQeJg" })
            if (liff.isLoggedIn()) {
                loading.style.display = "none"
                nav.style.display = "flex"
                dock.style.display = "flex"
                content.classList.remove("justify-center")
                content.classList.add("pt-8", "md:pt-12", "lg:pt-16", "xl:pt-20")
                const profile = await liff.getProfile()
                profilePic.src = profile.pictureUrl

            } else {
                liff.login()
            }
        }

        //logInLIFF();
    </script>

</body>

</html>